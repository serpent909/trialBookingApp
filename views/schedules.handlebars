<html>

<head>
    <title>{{title}}</title>
    <link rel="stylesheet" href="/css/table.css">
    <link rel="stylesheet" href="/css/form2.css">
    <link rel="stylesheet" href="/css/form.css">
    <link rel="stylesheet" href="/css/addScheduleModal.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>

<body>

    <!-- The booking form, hidden inside a modal -->
    <div id="addSchedulesModal" style="display: none;">
        <form id="appointmentForm">
            <label for="participantNumber">Participant ID:</label>


            <label for="startDate">Start Date</label>
            <input type="date" id="startDate" name="startDate">

            <label for="endDate">End Date</label>
            <input type="date" id="endDate" name="endDate">

            <button type="submit">Add Availability</button>
        </form>
    </div>



    <div id="overlay"></div>

    <h1>Base Schedules</h1>

    <form id="scheduleFilterForm">
        <div class="form-group">
            <label for="startDate">Start Date</label>
            <input type="date" id="startDate" name="startDate" required>
        </div>

        <div class="form-group">
            <label for="endDate">End Date</label>
            <input type="date" id="endDate" name="endDate">
        </div>

        <div class="form-group">
            <label for="resourceName">Resource</label>
            <select id="resourceName" name="resourceName">
                <option value="">Select Resource</option>
                {{#each resources}}
                <option value="{{this.name}}">{{this.name}}</option>
                {{/each}}
            </select>
        </div>


        <div class="form-group button2">
            <button id="filterSlotsButton" type="submit"><strong>Filter</strong></button>
        </div>

        <div class="form-group button2">
            <button id="addSchedulesButton" type="button"><strong>Add Schedule</strong></button>
        </div>

        <div class="form-group button2">
            <button id="deleteSelectedButton" type="button" disabled="true"><strong>Delete Selected</strong></button>
        </div>
    </form>

    <table>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="selectAllCheckbox" data-type="selectAll">
                </th>
                <th>Bookable Thing ID</th>
                <th>Name</th>
                <th>Start Time</th>
                <th>End Time</th>

            </tr>
        </thead>
        <tbody>
            {{#each filteredSchedules}}
            <tr data-id="{{this.scheduleId}}">
                <td><input type="checkbox" class="row-checkbox"></td>
                <td>{{bookable_thing_id}}</td>
                <td>{{name}}</td>
                <td>{{formatTime start_time}}</td>
                <td>{{formatTime end_time}}</td>

            </tr>
            {{/each}}
        </tbody>
    </table>





    <script src="/javascript/addSchedule.js"></script>
    <script src="/javascript/schedules.js"></script>

</body>

</html>